{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./src/js/components/Players/Player.ts","webpack:///./src/js/components/Players/PlayerData.ts","webpack:///./src/js/components/FantasyTeams/CreateFantasyTeams.ts","webpack:///./src/js/views/Calculations/ScoreCalculations.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","jQuery","__webpack_exports__","Player","imageUrl","player","this","id","image","code","availabilityType","status","teamID","team","price","getPlayerCost","now_cost","cost_change_start_fall","web_name","playerType","element_type","teamName","teamShort","isUnavailable","availabilityNews","news","now","change","toFixed","PlayerData","loadingOverlay","players","getPlayerData","playerListCallback","$","fetch","then","data","json","playerData","hide","playerList","settings","loaded","elements","map","_components_Players_Player__WEBPACK_IMPORTED_MODULE_0__","goalkeepers","filter","defenders","midfielders","forwards","Error","catch","err","alert","CreateFantasyTeams_CreateTeams","ScoreCalculations_ScoreCalculations","fantasyTeams","fantasy_teams","newFantasyTeam","team_players","CreateFantasyTeams_newFantasyTeams","CreateTeams","CreateTeam","newFantasyTeamsCallback","_i","fantasyTeams_1","length","unshift","team_id","team_name","_a","_b","teamPlayer","_c","_d","player_id","playerPosition","push","player_name","player_teamshort","player_type","player_position","console","log","ScoreCalculations","init","newFantasyTeams","external_jQuery_","source","template","html","Handlebars","compile","templateScript","append"],"mappings":"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","file":"ScoreCalculations.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = jQuery;","import { IPlayerData } from '../../components/Players/IPlayerData';\r\nimport { IPlayerDataElements } from '../../components/Players/IPlayerDataElements';\r\nimport { PlayerPosition } from '../../components/Players/PlayerPosition';\r\n\r\nconst imageUrl =\r\n  'https://platform-static-files.s3.amazonaws.com/premierleague/photos/players/40x40/p';\r\n\r\n// Player class\r\nexport class Player {\r\n  public playerType: PlayerPosition;\r\n  private id: number;\r\n  private image: string;\r\n  private isUnavailable: boolean;\r\n  private availabilityType: string;\r\n  private availabilityNews: string;\r\n  private teamID: number;\r\n  private teamName: string;\r\n  private teamShort: string;\r\n  private name: string;\r\n  private price: string;\r\n\r\n  // Construct player objects\r\n  constructor(player: IPlayerDataElements) {\r\n    this.id = player.id;\r\n    this.image = `${imageUrl + player.code}.png`;\r\n    this.availabilityType = player.status;\r\n    this.teamID = player.team;\r\n    this.price = this.getPlayerCost(\r\n      player.now_cost,\r\n      player.cost_change_start_fall\r\n    );\r\n    this.name = player.web_name;\r\n    this.playerType = player.element_type;\r\n\r\n    // Create team name and team abbrevation objects depending on team ID\r\n    switch (this.teamID) {\r\n      case 1:\r\n        this.teamName = 'Arsenal';\r\n        this.teamShort = 'ARS';\r\n        break;\r\n      case 2:\r\n        this.teamName = 'Bournemouth';\r\n        this.teamShort = 'BOU';\r\n        break;\r\n      case 3:\r\n        this.teamName = 'Brighton and Hove Albion';\r\n        this.teamShort = 'BHA';\r\n        break;\r\n      case 4:\r\n        this.teamName = 'Burnley';\r\n        this.teamShort = 'BUR';\r\n        break;\r\n      case 5:\r\n        this.teamName = 'Chelsea';\r\n        this.teamShort = 'CHE';\r\n        break;\r\n      case 6:\r\n        this.teamName = 'Crystal Palace';\r\n        this.teamShort = 'CRY';\r\n        break;\r\n      case 7:\r\n        this.teamName = 'Everton';\r\n        this.teamShort = 'EVE';\r\n        break;\r\n      case 8:\r\n        this.teamName = 'Huddersfield Town';\r\n        this.teamShort = 'HUD';\r\n        break;\r\n      case 9:\r\n        this.teamName = 'Leicester City';\r\n        this.teamShort = 'LEI';\r\n        break;\r\n      case 10:\r\n        this.teamName = 'Liverpool';\r\n        this.teamShort = 'LIV';\r\n        break;\r\n      case 11:\r\n        this.teamName = 'Manchester City';\r\n        this.teamShort = 'MNC';\r\n        break;\r\n      case 12:\r\n        this.teamName = 'Manchester United';\r\n        this.teamShort = 'MNU';\r\n        break;\r\n      case 13:\r\n        this.teamName = 'Newcastle United';\r\n        this.teamShort = 'NEW';\r\n        break;\r\n      case 14:\r\n        this.teamName = 'Southampton';\r\n        this.teamShort = 'SOU';\r\n        break;\r\n      case 15:\r\n        this.teamName = 'Stoke City';\r\n        this.teamShort = 'STO';\r\n        break;\r\n      case 16:\r\n        this.teamName = 'Swansea City';\r\n        this.teamShort = 'SWA';\r\n        break;\r\n      case 17:\r\n        this.teamName = 'Tottenham Hotspur';\r\n        this.teamShort = 'TOT';\r\n        break;\r\n      case 18:\r\n        this.teamName = 'Watford';\r\n        this.teamShort = 'WAT';\r\n        break;\r\n      case 19:\r\n        this.teamName = 'West Bromwich Albion';\r\n        this.teamShort = 'WBA';\r\n        break;\r\n      case 20:\r\n        this.teamName = 'West Ham United';\r\n        this.teamShort = 'WHU';\r\n        break;\r\n    }\r\n\r\n    // Create availability objects\r\n    switch (true) {\r\n      case this.availabilityType === 'u' || this.availabilityType === 'i':\r\n        this.isUnavailable = true;\r\n        this.availabilityNews = player.news;\r\n        break;\r\n      default:\r\n        this.isUnavailable = false;\r\n    }\r\n  }\r\n\r\n  // Calculate out the cost using the paramaters now and change\r\n  private getPlayerCost(now: number, change: number): string {\r\n    return ((now + change) / 10).toFixed(1);\r\n  }\r\n}\r\n","import { IPlayerData } from '../../components/Players/IPlayerData';\r\nimport { IPlayerDataElements } from '../../components/Players/IPlayerDataElements';\r\nimport { Player } from '../../components/Players/Player';\r\n\r\nexport namespace PlayerData {\r\n  // Declare variables\r\n  let players = [];\r\n  let playerDataUrl: string;\r\n  let imageUrl: string;\r\n  let loadingState: boolean;\r\n  let loadingOverlay: JQuery;\r\n\r\n  export function getPlayerData(playerListCallback: any) {\r\n    // Define variables\r\n    loadingOverlay = $('.loading');\r\n    loadingState = false;\r\n    playerDataUrl =\r\n      'https://jokecamp.github.io/epl-fantasy-geek/js/static-data.json';\r\n    imageUrl =\r\n      'https://platform-static-files.s3.amazonaws.com/premierleague/photos/players/40x40/p';\r\n\r\n    fetch(playerDataUrl)\r\n      .then((data: Response) => {\r\n        if (data.status !== 200) {\r\n          Error(`Looks like there was a problem. Status Code:  ${data.status}`);\r\n          return;\r\n        }\r\n\r\n        // Examine the text in the response\r\n        data.json().then((playerData: IPlayerData) => {\r\n          // Hide the loading overlay\r\n          loadingOverlay.hide();\r\n\r\n          players = playerData.elements.map(player => new Player(player));\r\n\r\n          const playerList: object = {\r\n            settings: {\r\n              loaded: true\r\n            },\r\n            players: players,\r\n            goalkeepers: players.filter(p => p.playerType === 1),\r\n            defenders: players.filter(p => p.playerType === 2),\r\n            midfielders: players.filter(p => p.playerType === 3),\r\n            forwards: players.filter(p => p.playerType === 4)\r\n          };\r\n\r\n          // Create callback with player data\r\n          playerListCallback(playerList);\r\n        });\r\n      })\r\n      .catch((err: Error) => {\r\n        // Hide the loading overlay\r\n        loadingOverlay.hide();\r\n\r\n        // Show alert error\r\n        alert(`fetch error ${err}`);\r\n      });\r\n  }\r\n}\r\n","import { IPlayerData } from '../../components/Players/IPlayerData';\r\nimport { IPlayerDataElements } from '../../components/Players/IPlayerDataElements';\r\nimport { Player } from '../../components/Players/Player';\r\nimport { PlayerData } from '../../components/Players/PlayerData';\r\nimport { PlayerPosition } from '../../components/Players/PlayerPosition';\r\nimport FantasyTeams from '../Data/FantasyTeams.json';\r\n\r\nconst fantasyTeams = (FantasyTeams as any).fantasy_teams;\r\nlet newFantasyTeam: any = [\r\n  {\r\n    team_players: []\r\n  }\r\n];\r\nconst newFantasyTeams: any = [];\r\n\r\nexport namespace CreateTeams {\r\n  // Interface for Team elements\r\n  interface ITeamData {\r\n    fantasy_teams: ITeamDataElements[];\r\n  }\r\n\r\n  // Interface for team data\r\n  interface ITeamDataElements {\r\n    team_id: number;\r\n    team_name: string;\r\n    team_players: ITeamPlayers[];\r\n  }\r\n\r\n  // Interface for team players data\r\n  interface ITeamPlayers {\r\n    player_id: number;\r\n    transfers: ITransferData[];\r\n  }\r\n\r\n  // Interface for team players transfer data\r\n  interface ITransferData {\r\n    transfer_id: number;\r\n    transfer_week: number;\r\n  }\r\n\r\n  export function CreateTeam(newFantasyTeamsCallback: any) {\r\n    PlayerData.getPlayerData((playerData: any) => {\r\n      for (const team of fantasyTeams) {\r\n        newFantasyTeam.unshift({\r\n          team_id: team.team_id,\r\n          team_name: team.team_name\r\n        });\r\n\r\n        for (const teamPlayer of team.team_players) {\r\n          for (const player of playerData.players) {\r\n            if (player.id === teamPlayer.player_id) {\r\n              let playerPosition;\r\n\r\n              switch (player.playerType) {\r\n                case 1:\r\n                  playerPosition = 'GK';\r\n                  break;\r\n                case 2:\r\n                  playerPosition = 'DEF';\r\n                  break;\r\n                case 3:\r\n                  playerPosition = 'MID';\r\n                  break;\r\n                case 4:\r\n                  playerPosition = 'FWD';\r\n                  break;\r\n              }\r\n\r\n              newFantasyTeam[1].team_players.push({\r\n                player_id: player.id,\r\n                player_name: player.name,\r\n                player_teamshort: player.teamShort,\r\n                player_type: player.player_type,\r\n                player_position: playerPosition\r\n              });\r\n            }\r\n          }\r\n        }\r\n\r\n        newFantasyTeams.push(newFantasyTeam);\r\n        newFantasyTeam = [\r\n          {\r\n            team_players: []\r\n          }\r\n        ];\r\n      }\r\n\r\n      newFantasyTeamsCallback(newFantasyTeams);\r\n\r\n      // tslint:disable-next-line\r\n      console.log(newFantasyTeams);\r\n    });\r\n  }\r\n}\r\n","import * as $ from 'jquery';\r\nimport '../../../scss/calculations.scss';\r\nimport { CreateTeams } from '../../components/FantasyTeams/CreateFantasyTeams';\r\n\r\nnamespace ScoreCalculations {\r\n  export function init() {\r\n    CreateTeams.CreateTeam((newFantasyTeams: any) => {\r\n      $.get(\r\n        '/src/js/components/Templates/FantasyTeamsTemplate.hbs',\r\n        (source: any) => {\r\n          // retrieve the template data from the HTML (jQuery is used here).\r\n          const template: any = source;\r\n\r\n          // compile the template\r\n          const templateScript: any = Handlebars.compile(template);\r\n\r\n          // create HTML code\r\n          const html: HTMLElement = templateScript(newFantasyTeams);\r\n\r\n          // insert the HTML code into the page\r\n          $('.teams-container').append(html);\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n$(() => ScoreCalculations.init());\r\n"],"sourceRoot":""}